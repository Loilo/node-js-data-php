var htmlApi=function(){"use strict";function e(e){return"object"==typeof e&&null!==e&&null==e.prototype&&e.constructor===Object}function r(e){return Object.entries?Object.entries(e):Object.keys(e).map(r=>[r,e[r]])}function t(...e){if(Object.assign)return Object.assign(...e);if(0===e.length)throw new TypeError("Cannot convert undefined or null to object");if(1===e.length)return e[0];for(let r in e[1])e[0][r]=e[1][r];return t(e[0],...e.slice(2))}function n(e,r){return e.includes?e.includes(r):-1!==e.indexOf(r)}function i(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function o(e){return i(e)&&e>=0}function l(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function s(e,r){return e.startsWith?e.startsWith(r):e.slice(0,r.length)===r}function u(i,a={},{refs:c=[],trail:f=[]}={}){function g(e,r){return r||(r="single"===E?"'":'"'),r+e.replace(new RegExp(l(r),"g"),"\\"+r)+r}function h(e=1){return("tab"===d?"\t":" ".repeat(d)).repeat(O+e)}function m(){return f.length?"":h(0)}function w(){switch(I){case"null":return"null";case"nullWithComment":return"null /* CIRCULAR */";case"string":return g("::CIRCULAR::");case"throw":throw new Error("err:circular:"+JSON.stringify(f))}}function p(e){if(f.length)throw e;{let r;throw s(e.message,"err:type:")?(r=JSON.parse(e.message.slice(9)).slice(0,-1),new Error(`Disallowed value type in ${N(r)}`)):s(e.message,"err:plain:")?(r=JSON.parse(e.message.slice(10)).slice(0,-1),new Error(`Disallowed non-plain object in ${N(r)}`)):s(e.message,"err:circular:")?(r=JSON.parse(e.message.slice(13)),new Error(`Circular reference: ${N(r)}`)):s(e.message,"err:NaN:")?(r=JSON.parse(e.message.slice(8)),new Error(`Invalid NaN: ${N(r)}`)):e}}function N(e){return"INPUT"+e.map((e,r)=>"number"==typeof e?"["+String(e)+"]":e.match(/^[a-z0-9_$]+$/i)?`.${e}`:`[${g(e,'"')}]`).join("")}const{castToObject:b=!1,bracketArrays:y=!0,indentation:d=2,trailingCommas:C=!1,startingIndentationLevel:O=0,quotes:E="single",removeUndefinedProperties:j=!0,onCircular:I="nullWithComment",onNaN:S="nullWithComment"}=a;if("tab"!==d&&!o(d))throw new Error('`indentation` must be non-negative integer or "tab"');if(!n(["single","double"],E))throw new Error('`quotes` must be either "single" or "double"');const v=["null","nullWithComment","string","throw"];if(!n(v,I))throw new Error('`onCircular` must be either "null", "nullWithComment", "string" or "throw"');if(!n(v,S))throw new Error('`onNaN` must be either "null", "nullWithComment", "string" or "throw"');let $="";if(Array.isArray(i))if(n(c,i))try{$+=w()}catch(e){return p(e)}else $+=function(e){let r="";r+=m(),r+=y?"[":"array(",e.length&&(r+="\n");for(let n=0;n<e.length;n++){let i;try{i=u(e[n],t({},a,{startingIndentationLevel:O+1}),{refs:c.concat([e]),trail:f.concat(n)}),r+=h()+i,(C||n+1<e.length)&&(r+=","),r+="\n"}catch(e){p(e)}}return e.length&&(r+=h(0)),r+=y?"]":")"}(i);else if(null==i)$+=m(),$+="null";else if("object"==typeof i)if(e(i))if(n(c,i))try{$+=w()}catch(e){p(e)}else $+=function(e){let n="";n+=m(),b&&(n+="(object) "),n+=y?"[":"array(";let i=r(e);j&&(i=i.filter(([e,r])=>void 0!==r)),i.length&&(n+="\n");let o=1;for(const[r,l]of i){let s;try{s=u(l,t({},a,{startingIndentationLevel:O+1}),{refs:c.concat(e),trail:f.concat(r)})}catch(e){p(e)}n+=h()+g(r)+" => "+s,(C||o!==i.length)&&(n+=","),n+="\n",o++}return i.length&&(n+=h(0)),n+=y?"]":")"}(i);else p(new Error("err:plain:"+JSON.stringify(f)));else"number"==typeof i?($+=m(),isNaN(i)?$+=function(){switch(S){case"null":return"null";case"nullWithComment":return"null /* NaN */";case"string":return g("::NaN::");case"throw":throw new Error("err:NaN:"+JSON.stringify(f))}}():$+=i===1/0?"INF":i===-1/0?"-INF":String(i)):"boolean"==typeof i?($+=m(),$+=String(i)):"string"==typeof i?($+=m(),$+=g(i)):p(new Error("err:type:"+JSON.stringify(f)));return $}return function(e,r){return u(e,r)}}();
